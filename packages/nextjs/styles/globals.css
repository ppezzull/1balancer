@import "tailwindcss";
@import "tw-animate-css";

/* Theme variant helper tied to next-themes data-theme attribute */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme {
  --shadow-center: 0 0 12px -2px rgb(0 0 0 / 0.05);
  --animate-pulse-fast: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Replaced DaisyUI plugin with local theme variables for parity */
:root,
[data-theme="light"] {
  --color-primary: #93bbfb;
  --color-primary-content: #212638;
  --color-secondary: #dae8ff;
  --color-secondary-content: #212638;
  --color-accent: #93bbfb;
  --color-accent-content: #212638;
  --color-neutral: #212638;
  --color-neutral-content: #ffffff;
  --color-base-100: #ffffff;
  --color-base-200: #f4f8ff;
  --color-base-300: #dae8ff;
  --color-base-content: #212638;
  --color-info: #93bbfb;
  --color-success: #34eeb6;
  --color-warning: #ffcf72;
  --color-error: #ff8863;

  --radius-field: 9999rem;
  --radius-box: 1rem;
  --tt-tailw: 6px;
}

[data-theme="dark"] {
  --color-primary: #212638;
  --color-primary-content: #f9fbff;
  --color-secondary: #323f61;
  --color-secondary-content: #f9fbff;
  --color-accent: #4969a6;
  --color-accent-content: #f9fbff;
  --color-neutral: #f9fbff;
  --color-neutral-content: #385183;
  --color-base-100: #385183;
  --color-base-200: #2a3655;
  --color-base-300: #212638;
  --color-base-content: #f9fbff;
  --color-info: #385183;
  --color-success: #34eeb6;
  --color-warning: #ffcf72;
  --color-error: #ff8863;

  --radius-field: 9999rem;
  --radius-box: 1rem;
  --tt-tailw: 6px;
  --tt-bg: var(--color-primary);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  p {
    margin: 1rem 0;
  }

  body {
    min-height: 100vh;
  }

  h1,
  h2,
  h3,
  h4 {
    margin-bottom: 0.5rem;
    line-height: 1;
  }
}

:root,
[data-theme] {
  background: var(--color-base-200);
}

/* Deprecated Daisy helper class overrides removed during migration */

/* Minimal parity with legacy Daisy button/link styles */
.btn {
  box-shadow:
    0 1px 2px 0 rgb(0 0 0 / 0.05),
    0 1px 3px 0 rgb(0 0 0 / 0.1);
}
.btn.btn-ghost {
  box-shadow: none;
}
.link {
  text-underline-offset: 2px;
}
.link:hover {
  opacity: 0.8;
}

/*
  ---break---
*/
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/*
  ---break---
*/
:root {
  --radius: 0.625rem;
  /* Map shadcn semantic tokens to DaisyUI theme variables for parity */
  --background: var(--color-base-200);
  --foreground: var(--color-base-content);
  --card: var(--color-base-100);
  --card-foreground: var(--color-base-content);
  --popover: var(--color-base-100);
  --popover-foreground: var(--color-base-content);
  --primary: var(--color-primary);
  --primary-foreground: var(--color-primary-content);
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-content);
  --muted: var(--color-neutral);
  --muted-foreground: var(--color-neutral-content);
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-content);
  --destructive: var(--color-error);
  --destructive-foreground: var(--color-base-content);
  --border: var(--color-base-300);
  --input: var(--color-base-200);
  --ring: var(--color-primary);
  /* Optional charts/sidebar tokens can be mapped later if needed */
  --chart-1: var(--color-info);
  --chart-2: var(--color-success);
  --chart-3: var(--color-warning);
  --chart-4: var(--color-accent);
  --chart-5: var(--color-secondary);
  --sidebar: var(--color-base-100);
  --sidebar-foreground: var(--color-base-content);
  --sidebar-primary: var(--color-primary);
  --sidebar-primary-foreground: var(--color-primary-content);
  --sidebar-accent: var(--color-accent);
  --sidebar-accent-foreground: var(--color-accent-content);
  --sidebar-border: var(--color-base-300);
  --sidebar-ring: var(--color-primary);

  /* Additional tokens ported from legacy globals */
  --font-size: 14px;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;

  /* Gradients and visual effects - light mode */
  --gradient-primary: linear-gradient(135deg, #0891b2, #0284c7, #2563eb);
  --gradient-secondary: linear-gradient(135deg, #1e40af, #3730a3, #5b21b6);
  --gradient-accent: linear-gradient(135deg, #1e40af, #3730a3, #5b21b6);
  --header-bg: rgba(255, 255, 255, 0.85);
  --card-bg: rgba(255, 255, 255, 0.8);
  --overlay-bg: rgba(255, 255, 255, 0.3);
  --particle-color: rgba(14, 165, 233, 0.4);
  --glow-color: rgba(14, 165, 233, 0.3);
  --border-light: rgba(0, 0, 0, 0.08);
  --text-muted-light: rgba(0, 0, 0, 0.65);
  --universe-bg: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%, #f8fafc 100%);
  --light-particle: rgba(59, 130, 246, 0.6);
  --light-glow: rgba(59, 130, 246, 0.4);
  --light-wave: rgba(59, 130, 246, 0.2);
}

/*
  ---break---
*/
/* When using DaisyUI with next-themes attribute="data-theme", the semantic
  vars above will reflect the active theme automatically via --color-* vars.
  No separate .dark block is required at this stage. */

/* Dark-mode extras that don't map 1:1 from Daisy color tokens */
[data-theme="dark"] {
  /* Keep semantic tokens mapped via --color-*; add extra dark-only visuals */
  --input-background: oklch(0.269 0 0);
  --switch-background: oklch(0.439 0 0);

  --gradient-primary: linear-gradient(135deg, #14b8a6, #22d3ee, #6366f1);
  --gradient-secondary: linear-gradient(135deg, #1e40af, #3730a3, #5b21b6);
  --gradient-accent: linear-gradient(135deg, #1e40af, #3730a3, #5b21b6);
  --header-bg: rgba(17, 24, 39, 0.95);
  --card-bg: rgba(17, 24, 39, 0.7);
  --overlay-bg: rgba(0, 0, 0, 0.3);
  --particle-color: rgba(20, 184, 166, 0.6);
  --glow-color: rgba(20, 184, 166, 0.4);
  --border-light: rgba(255, 255, 255, 0.1);
  --text-muted-light: rgba(255, 255, 255, 0.6);
}

/*
  ---break---
*/
@layer base {
  * {
    /* Equivalent of Tailwind `border-border outline-ring/50` */
    border-color: var(--color-border);
    outline-color: color-mix(in oklab, var(--ring) 50%, transparent);
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
  body {
    /* Equivalent of Tailwind `bg-background text-foreground` */
    background-color: var(--background);
    color: var(--foreground);
  }

  /* Smooth theme transitions and FOUC prevention */
  html {
    transition:
      background-color 0.3s ease,
      color 0.3s ease;
  }
  html.changing-theme * {
    transition: none !important;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor
 * with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: 500;
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: 500;
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: 500;
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: 500;
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: 400;
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: 500;
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: 500;
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: 400;
      line-height: 1.5;
    }
  }
}

/* Custom utility classes for scrollbar hiding and no-scroll functionality */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-default {
    -ms-overflow-style: auto;
    scrollbar-width: thin;
  }
  .scrollbar-default::-webkit-scrollbar {
    width: 8px;
  }
  .scrollbar-default::-webkit-scrollbar-track {
    background: var(--muted);
    border-radius: 4px;
  }
  .scrollbar-default::-webkit-scrollbar-thumb {
    background: var(--muted-foreground);
    border-radius: 4px;
    border: 1px solid var(--border);
  }
  .scrollbar-default::-webkit-scrollbar-thumb:hover {
    background: var(--foreground);
  }

  /* No-scroll utilities for home page */
  .no-scroll {
    overflow: hidden !important;
    height: 100vh !important;
  }
  .no-scroll-body {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Ensure proper viewport handling */
  .viewport-fixed {
    height: 100vh !important;
    max-height: 100vh !important;
    overflow: hidden !important;
  }

  /* Perfect centering utilities for home page content */
  .perfect-center {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 100% !important;
  }
  .center-content {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    width: 100% !important;
  }

  /* Responsive typography scaling for centered content */
  .hero-title {
    font-size: clamp(2rem, 5vw, 4rem) !important;
    line-height: 1.1 !important;
    font-weight: 700 !important;
  }
  .hero-subtitle {
    font-size: clamp(1rem, 2.5vw, 1.25rem) !important;
    line-height: 1.6 !important;
    opacity: 0.8 !important;
  }

  /* Viewport-aware spacing */
  .viewport-padding {
    padding: clamp(1rem, 4vh, 2rem) clamp(1rem, 4vw, 2rem) !important;
  }
}

html {
  font-size: var(--font-size);
}

/* Specific styles for home page no-scroll behavior */
body.home-page-no-scroll {
  overflow: hidden !important;
  position: fixed !important;
  width: 100% !important;
  height: 100% !important;
  touch-action: none;
}
html.home-page-no-scroll {
  overflow: hidden !important;
  height: 100% !important;
}

/* Enhanced centering for home page content */
.home-page-centered {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 100vh !important;
  width: 100% !important;
  position: relative !important;
}
.home-content-wrapper {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  width: 100% !important;
  max-width: 72rem !important;
  margin: 0 auto !important;
  padding: clamp(1rem, 4vh, 2rem) clamp(1rem, 4vw, 2rem) !important;
}

/* Fixed navbar utilities */
.fixed-navbar-offset {
  padding-top: 4rem !important;
}
@media (min-width: 640px) {
  .fixed-navbar-offset {
    padding-top: 5rem !important;
  }
}

/* Smooth scroll behavior for sections with fixed navbar */
.smooth-scroll-section {
  scroll-margin-top: 5rem !important;
}
@media (max-width: 639px) {
  .smooth-scroll-section {
    scroll-margin-top: 4rem !important;
  }
}
